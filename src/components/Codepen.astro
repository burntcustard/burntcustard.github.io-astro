---
type TabOption = 'html' | 'css' | 'js' | 'result';

type DefaultTabs =
  | `${TabOption}`
  | `${TabOption},${TabOption}`
  | `${TabOption},${TabOption},${TabOption}`
  | `${TabOption},${TabOption},${TabOption},${TabOption}`;

interface Props {
	height?: number;
  defaultTabs?: DefaultTabs;
  slugHash: string;
  penTitle: string;
  preview?: boolean; // Coerced into a string when given to data-attr
  user?: string;
}

const {
  height = 320,
  defaultTabs,
  slugHash,
  penTitle,
  preview,
  user = 'burntcustard',
} = Astro.props;
---

<script src="https://cpwebassets.codepen.io/assets/embed/ei.js"></script>

<p
  class="codepen"
  data-height={height}
  data-default-tab={defaultTabs}
  data-slug-hash={slugHash}
  data-pen-title={penTitle}
  data-preview={preview}
  data-user={user}
  style=`height: ${height}px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;`
>
  <span>See the Pen <a href={`https://codepen.io/${user}/pen/${slugHash}`}>
  {penTitle}</a> by {user} (<a href={`https://codepen.io/${user}`}>@{user}</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>
